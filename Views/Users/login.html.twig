{% extends "template.html.twig" %}

{% block title %}
	{{ title }}
{% endblock %}

{% block body %}

	{% for login in utilisateur %}
		<p>{{pseudo.pseudo}}</p>
	{% endfor %}

	<div
		class="container">

		{# FORMULAIRE DE CONNEXION #}
		{% if slug is null %}

			<div class="row justify-content-md-center">
				<form name="login" class="col-4 users-form" method="POST" action="{{baseUrl}}/">
					<h2>Connectez-vous :</h2>
					{# PSEUDO #}
					<div class="form-group-users">
						<label for="pseudo">
							<h4>Pseudo</h4>
						</label>
						<input type="text" maxlength="16" value="{{ inputPseudo }}" name="pseudo" class="form-control d-inline" id="pseudo" {% if error[0] == " " %} style="border-color: #FF2E63;" {% endif %}>
						<p class="text-danger d-inline grp-err-1">{{ error[0] }}</p>
					</div>
					{# MOT DE PASSE #}
					<div class="form-group-users">
						<label for="mdp">
							<h4 id="titre-mdp">Mot de passe</h4>
							{# MOT DE PASSE OUBLIE #}
							<a href="{{baseUrl}}/MotDePasseOublie" id="lien-vers-mdp-oublie">J'ai oublié mon mot de passe :'(</a>
						</label>
						<input type="password" maxlength="16" class="form-control" name="mdp" {% if error[1] == " " %} style="border-color: #FF2E63;" {% endif %}>
						<p class="text-danger d-inline grp-err-2">{{ error[1] }}</p>
					</div>
					<div
						class="form-group-users boutons-users">
						{# SUBMIT #}
						<button type="submit" class="btn btn-outline jati-colors-btn col">Se connecter</button>
						{# PAS ENCORE INSCRIT #}
						<a href="{{ baseUrl }}/Inscription" class="btn btn-outline btn-light col mt-3">Pas encore inscrit ?! :o</a>
					</div>
				</form>
			</div>


			{# FORMULAIRE DE MOT DE PASSE OUBLIÉ #}
		{% elseif (slug == 'MotDePasseOublie') %}

			<div class="row justify-content-md-center">
				<form name="forgetPassword" class="col-4 users-form" method="POST" action="{{ baseUrl }}/MotDePasseOublie/post">
					<h2>Mot de passe oublié</h2>
					{# MAIL #}
					<div class="form-group-users">
						<label for="regMail">
							<h4>Adresse mail</h4>
						</label>
						<input type="email" class="form-control" maxlength="64" name="mail" value=" {{ mail }}" {% if errorMail %} style="border-color: #FF2E63;" {% endif %}>
						<p class="text-danger d-inline grp-err-1">{{ errorMail }}</p>
					</div>
					{# SUBMIT #}
					<div class="form-group-users boutons-users">
						<button type="submit" class="btn btn-outline jati-colors-btn col">Envoyer</button>
					</div>
				</form>
			</div>

			{# EMAIL ENVOYE SUR DEMANDE #}
		{% elseif (slug == 'mailEnvoye') %}

			<div class="row justify-content-md-center">
				<div
					class="col-4 users-form">

					{# message de Mail envoyé #}
					<div class="form-group-users">
						<p>Un mail vous à été envoyé pour réinitialiser votre mot de passe</p>
					</div>

					{# direction page accueuil #}
					<div class="form-group-users">
						<a href="{{ baseUrl }}" class="btn btn-outline jati-colors-btn col">Revenir sur la page d'accueil</a>
					</div>
					{# direction page conexion #}
					<div class="form-group-users">
						<a href="{{ baseUrl }}/Connexion" class="btn btn-outline jati-colors-btn col">Se connecter</a>
					</div>
				</div>
			</div>

			{# FORMULAIRE POUR CHANGER MOT DE PASSE #}
		{% elseif (slug == randomString) %}

			<div class="row justify-content-md-center">
				<form name="changePassword" class="col-4 users-form" method="POST" action="{{ baseUrl }}/ChangerMotDePasse/post">
					<h2>Nouveau mot de passe :</h2>
					<p>{{ userPseudo }}, veuillez entrer un nouveau mot de passe ici :</p>
					{# MOT DE PASSE #}
					<div class="form-group-users">
						<input type="password" maxlength="16" class="form-control" name="mdp" {% if errorMdp %} style="border-color: #FF2E63;" {% endif %}>
						<p class="text-danger d-inline grp-err-1">{{ errorMdp }}</p>
					</div>
					{# SUBMIT #}
					<div class="form-group-users">
						<button type="submit" class="btn btn-outline jati-colors-btn col">Envoyer</button>
					</div>
				</form>
			</div>


			{# FORMULAIRE D'INSCRIPTION #}
		{% elseif (slug == 'Inscription') %}

			<div class="row justify-content-md-center">
				<form name="register" class="col-4 users-form" method="POST" action="{{ baseUrl }}/Inscription/post">
					<h2>Créez un compte :</h2>
					{# MAIL #}
					<div class="form-group-users">
						<label for="regMail">
							<h4>Adresse mail *</h4>
						</label>
						<input type="email" class="form-control" name="mail" value="{{ inputMail }}" {% if error[0] %} style="border-color: #FF2E63;" {% endif %}>
						<p id="requiredField" class="text-danger d-inline grp-err-1">{{ error[0] }}</p>
					</div>
					{# PSEUDO #}
					<div class="form-group-users">
						<label for="regPseudo">
							<h4>Pseudo *</h4>
						</label>
						<input type="text" maxlength="15" class="form-control" name="pseudo" value="{{ inputPseudo }}" {% if error[1] %} style="border-color: #FF2E63;" {% endif %}>
						<p id="requiredField" class="text-danger d-inline grp-err-2">
							{{ error[1] }}</p>
					</div>
					{# MOT DE PASSE #}
					<div class="form-group-users">
						<label for="regPassword">
							<h4>Mot de passe *</h4>
						</label>
						<input type="password" class="form-control" name="mdp" {% if error[2] %} style="border-color: #FF2E63;" {% endif %}>
						<p id="requiredField" class="text-danger d-inline grp-err-3">
							{{ error[2] }}</p>
					</div>
					{# SUBMIT #}
					<div class="form-group-users">
						<button type="submit" class="btn btn-outline jati-colors-btn col">S'inscrire</button>
						<p id="requiredField" class="text-danger d-inline grp-err-4">
							{{ generalError }}</p>
					</div>
					<small id="requiredField" class="form-text text-muted">Champs obligatoires *</small>
				</form>
			</div>
		{% endif %}
	</div>
{% endblock %}
